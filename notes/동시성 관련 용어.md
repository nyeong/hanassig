---
title: "동시성 관련 용어"
tags: 동시성
---
## 공유 자원

시스템 안에서 여러 스레드나 프로세스가 함께 접근할 수 있는 자원을 공유 자원(*shared resource*)이라고 한다.

## 임계 영역

공유 자원에 접근하는 코드들을 임계 영역(*critical section*)이라고 한다.

[[#상호 배제]] 등의 기법으로 임계 영역에 하나의 쓰레드만이 진입하도록 보장해야한다.

임계 영역이 제대로 설정되지 않으면 아래와 같은 문제가 발생할 수 있다:
- 입출금 문제

## 경쟁 상태

여러 스레드가 동시에 임계 영역에 접근하여 발생하는 문제를 경쟁 상태(*race condition*) 혹은 경쟁 위험(*race hazard*)라고 한다.

## 상호 배제

[[#임계 영역]]에 한 개의 프로세스만 진입할 수 있도록, 즉 원자적으로 실행할 수 있도록 하는 기법을 상호 배제(*mutual exclution*)라고 한다.

임계 영역을 잠궈서 원자적으로 다룰 수 있다. 이를 락(*lock*)이라고 부르며 락을 구현한 자료구조나 스마트 포인터를 흔히 mutex라고 부른다.

```rust
// 상호 배제가 가능한 변수를 선언한다.
let m = Mutex::new(5);
{
    // 변수에 접근하기 전에 먼저 임계 영역을 잠근다.
	let mut num = m.lock().unwrap();
	
	// 변수에 마음대로 접근할 수 있다.
	*num = 6;

    // 러스트에서는 블록이 끝나면 자동으로 잠금을 푼다.
}
```