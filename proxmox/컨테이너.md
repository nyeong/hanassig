# 컨테이너

[Linux Container -- Proxmox VE](https://pve.proxmox.com/wiki/Linux_Container)

VM 대신 쓸 수 있는 경량 이미지.

## 컨테이너 이미지

```bash
# template 목록 업데이트
$ pveam update

# template 목록 불러오기
# --section system 옵션을 붙여주면 turnkeylinux 안 볼 수 있다.
$ pveam available --section system

# 특정 template 다운로드
$ pveam download local archlinux-base_20211202-1_amd64.tar.zst

# local에 있는 template 보기
$ pveam list local
```

## arch 컨테이너

### pacman 설정

#### pacman GPG 키 설정

```
$ pacman-key --init
$ pacman-key --populate archlinux
$ pacman-key --refresh-keys
```

#### pacman mirrorlist 설정

[Pacman Mirrorlist Generator](https://archlinux.org/mirrorlist/)를 이용하여 가장 가까운 서버 목록을 뽑아서 `/etc/pacman.d/mirrorlist`의 가장 앞에 추가한다. 그 후에 업데이트 및 업그레이드.

```
$ pacman -Syu
$ pacman -S kakoune zsh openssh aspell clang git kak-lsp tmux base base-devel bottom exa tealdeer bat fzf neofetch
```

#### 기본 시스템 설정

```
# 타임존 설정
$ ln -sf /usr/share/zoneinfo/Asia/Seoul /etc/localtime

# 로케일 설정
# /etc/locale.gen에서 en_US.UTF-8 등 원하는 로케일을 주석 해제한다.
# /etc/locale.conf에 로케일을 설정한다.
$ kak /etc/locale.gen
$ locale-gen
$ cat > /etc/locale.conf
LANG=en_US.UTF-8
^D

# 유저 생성
$ useradd -m nyeong -s /usr/bin/zsh
$ passwd nyeong
```
